<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head>
	<meta charset="utf-8" />
	<link rel="icon" th:href="@{~/assets/imagens/favicon.ico}" type="image/x-icon"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />

	<title>Blog - Painel</title>
	
	<meta name="robots" content="nofollow,noarchive,noindex" />	

	<link th:href="@{/assets/css/style.css}" rel="stylesheet" async="async" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Material+Icons" async="async"/>
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700" async="async" media="none" onload="if(media!='all')media='all'"/>
	<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700"/></noscript>

</head>
<body>

	<header>
		<div th:include="navbar :: navbar"></div>
	</header>

	<main class="main">
		<div class="container">
			<div class="row">
				<br />
				<br />
				<br />
				<br />
				<div class="col-md-12">
					<button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseParceiro" aria-expanded="false" aria-controls="collapseParceiro">
						ADICIONAR PARCEIRO
					</button>
				</div>
				<!-- inicio do parceiro-->
				<div class="col-md-5 collapse" id="collapseParceiro">
					<div class="media-body">
						<form class="form" th:action="@{/painel/parceiro/salvar/}" method="post">
							<div class="row">
								
								<div class="col-md-6">
									<div class="form-group">
										<label for="titulo">Titulo do site</label>
										<input type="text" id="titulo" name="titulo" class="form-control" />
									</div>
								</div>
								
								<div class="col-md-6">
									<div class="form-group">
										<label for="descricao">Descrição do site</label>
										<input type="text" id="descricao" name="descricao" class="form-control" />
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="logo">Logo (endereço da imagem)</label>
										<input type="text" id="logo" name="logo" class="form-control" />
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="categoria">Categoria do site</label>
										<input type="text" id="categoria" name="categoria" class="form-control" />
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="url">Url</label>
										<input type="text" id="url" name="url" class="form-control" />
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="urlReferencia">Url de referência</label>
										<input type="text" id="urlReferencia" name="urlReferencia" class="form-control" />
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="descricao">Categoria</label>
										<select class="form-control" id="categoria" name="categoria">
											<option value="true">Ativo</option>
											<option value="false">Bloqueado</option>
										</select>
									</div>
								</div>

								<div class="media-footer">
									<button type="submit" class="btn btn-primary pull-right">SALVAR</button>
								</div>
							</div>
						</form>

					</div><!-- end media-body -->
				</div>
				<!-- fim do parceiro-->

				<div class="col-md-12">
					<button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapsePostagem" aria-expanded="false" aria-controls="collapsePostagem">
						POSTAGENS
					</button>
				</div>
				
				<!-- inicio do table-->
				<div class="col-md-12 collapse" id="collapsePostagem">
					<div class="media-body">
						<table id="post-tabela" class="table table-striped table-no-bordered table-hover" th:unless="${#lists.isEmpty(posts)}">

							<thead class="text-primary">
								<th><abbr title="TITULO">TITULO ASSUNTO</abbr></th>
								<th><abbr title="URL">URL</abbr></th>
								<th><abbr title="TITULO DA PAGINA">TITULO DA PÁGINA</abbr></th>
								<th><abbr title="DESCRIÇÃO DA PAGINA">DESCRIÇÃO DA PÁGINA</abbr></th>
								<th><abbr title="DATA POSTAGEM">DATA POSTAGEM</abbr></th>
								<th><abbr title="AÇÕES">A</abbr></th>
							</thead>

							<tbody >

								<tr th:each="post : ${posts}">
									<td th:text="${post.tituloConteudo}"></td>
									<td th:text="${post.url}"></td>
									<td th:text="${post.tituloPagina}"></td>
									<td th:text="${post.metaDescricao}"></td>
									<td th:text="${#temporals.format(post.dataPostagem, 'dd/MM/yyyy')}"></td>

									<td class="td-actions text-right">
										<a th:href="@{/painel/post/{id}/visualizar/(id=${post.id})}" rel="tooltip" data-placement="left" title="Visualizar serviço" class="btn btn-simple btn-warning btn-icon edit"><i class="material-icons">dvr</i></a>

										<a th:href="@{/painel/post/{id}/remover/(id=${post.id})}" rel="tooltip" data-placement="left" title="Remover serviço" class="btn btn-simple btn-warning btn-icon edit"><i class="material-icons">close</i></a>
									</td>
								</tr>
							</tbody>
						</table>
					</div><!-- end media-body -->
				</div>
				<!-- fim do table-->


				<div class="col-md-12">
					<button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseCategoria" aria-expanded="false" aria-controls="collapseCategoria">
						ADICIONAR CATEGORIA
					</button>
				</div>
				<!-- inicio do categoria-->
				<div class="col-md-5 collapse" id="collapseCategoria">
					<div class="media-body">
						<form class="form" th:action="@{/painel/categoria/salvar/}" method="post">
							<div class="row">
								
								<div class="col-md-6">
									<div class="form-group">
										<label for="tag">Tag da categoria</label>
										<input type="text" id="tag" name="tag" class="form-control" />
									</div>
								</div>
								
								<div class="col-md-6">
									<div class="form-group">
										<label for="descricao">Descrição da Categoria</label>
										<input type="text" id="descricao" name="descricao" class="form-control" />
									</div>
								</div>

								<div class="media-footer">
									<button type="submit" class="btn btn-primary pull-right">SALVAR</button>
								</div>
							</div>
						</form>

					</div><!-- end media-body -->
				</div>
				<!-- fim do categoria-->

				

				<!-- inicio do post-->
				<div class="col-md-12" th:if="${categorias} != null">
					<h5 class="title">Post</h5>

					<div class="media-body">
						<form class="form" th:action="@{/painel/post/salvar/}" method="post">
							
							<input type="hidden" name="id" th:value="${post} != null ? ${post.id} : ''" />

							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<label for="descricao">Categoria</label>
										<select class="form-control" id="categoria" name="categoria">
											<option value="#">Selecione um serviço</option>
											<option th:each="categoria : ${categorias}" th:value="${categoria.id}" th:text="${categoria.descricao}" th:selected="${post} != null and ${post.categoria} == ${categoria}? true : false"></option>
										</select>
									</div>
								</div>		
								<div class="col-md-6">
									<div class="form-group">
										<label for="tituloPagina">Titulo da página</label>
										<input type="text" id="tituloPagina" name="tituloPagina" class="form-control" th:value="${post} != null ? ${post.tituloPagina} : ''" /><span id="qtd-tituloPagina">0</span> de 50
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label for="metaDescricao">Descrição da página</label>
										<input type="text" id="metaDescricao" name="metaDescricao" class="form-control" th:value="${post} != null ? ${post.metaDescricao} : ''"/><span id="qtd-metaDescricao">0</span> de 131
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label for="imagemCabecalho">Nome da imagem do cabecalho</label>
										<input type="text" id="imagemCabecalho" name="imagemCabecalho" class="form-control" th:value="${post} != null ? ${post.imagemCabecalho} : ''" />
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="corCabecalho">Cor cabeçalho</label>
										<input type="text" id="url" name="corCabecalho" class="form-control" th:value="${post} != null ? ${post.corCabecalho} : ''"/>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="imagemAssunto">Nome da imagem do assunto</label>
										<input type="text" id="imagemAssunto" name="imagemAssunto" class="form-control" th:value="${post} != null ? ${post.imagemAssunto} : ''"/>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="imagemAssuntoAlt">Descrição da imagem do assunto (Alt)</label>
										<input type="text" id="imagemAssuntoAlt" name="imagemAssuntoAlt" class="form-control" th:value="${post} != null ? ${post.imagemAssuntoAlt} : ''"/>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="imagemAssuntoTitle">Titulo da imagem do assunto (Title)</label>
										<input type="text" id="imagemAssuntoTitle" name="imagemAssuntoTitle" class="form-control" th:value="${post} != null ? ${post.imagemAssuntoTitle} : ''"/>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="tituloConteudo">Título do conteúdo</label>
										<input type="text" id="tituloConteudo" name="tituloConteudo" class="form-control" th:value="${post} != null ? ${post.tituloConteudo} : ''" /><span id="qtd-tituloConteudo">0</span> de 46
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="subtituloConteudo">Subtítulo do conteúdo</label>
										<input type="text" id="subtituloConteudo" name="subtituloConteudo" class="form-control" th:value="${post} != null ? ${post.subtituloConteudo} : ''"/>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="url">Url da pagina</label>
										<input type="text" id="url" name="url" class="form-control" th:value="${post} != null ? ${post.url} : ''" />
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="url">Data da postagem</label>
										<input type="date" id="date" name="dataPostagem" class="form-control" th:value="${post} != null ? ${post.dataPostagem} : ''"/>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label for="url">Autor</label>
										<input type="input" id="date" name="autor" class="form-control" th:value="${post} != null ? ${post.autor} : ''"/>
									</div>
								</div>

							</div>

							<div class="col-md-12">
								<div class="form-group">
									<label for="descricaoContudo">Descrição do Conteúdo</label> 
									<textarea id="descricaoConteudo" class="form-control" rows="4" name="descricaoConteudo" th:text="${post} != null ? ${post.descricaoConteudo} : ''"></textarea><span id="qtd-descricaoConteudo">0</span> de 244
								</div>
							</div>

							<div class="col-md-12">
								<div class="form-group">
									<label for="contudo">Conteúdo</label>
									<textarea id="conteudo" class="form-control" rows="50" name="conteudo" th:text="${post} != null ? ${post.conteudo} : ''"></textarea>
								</div>
							</div>

							<div class="media-footer">
								<button type="submit" formaction="/painel/post/preview/" formmethod="post" class="btn btn-primary pull-right">VISUALIZAR</button>
								<button type="submit" class="btn btn-primary pull-right">SALVAR</button>
							</div>

						</form>

					</div><!-- end media-body -->

				</div>

				<!-- fim do post-->

			</div>
		</div>

	</main>

	<script th:src="@{~/assets/js/core.js}" type="text/javascript"></script>
	<script th:src="@{~/assets/js/core-dependence.js}" type="text/javascript"></script>
	<script th:src="@{~/assets/js/jquery.datatables.js}" type="text/javascript"></script>

	<script type="text/javascript">
		$( () => { 

			$('#post-tabela').DataTable({
				"pagingType": "full_numbers",
				"lengthMenu": [
				[3, 6, 9, -1],
				[3, 6, 9, "Todos"]
				],
				responsive: true,
				language: {
					search: "_INPUT_",
					searchPlaceholder: "Procurar registros",
				}

			});

			$('#descricaoConteudo').on('input', () => {$('#qtd-descricaoConteudo').text($('#descricaoConteudo').val().length)});
			$('#tituloConteudo').on('input', () => {$('#qtd-tituloConteudo').text($('#tituloConteudo').val().length)});
			$('#metaDescricao').on('input', () => {$('#qtd-metaDescricao').text($('#metaDescricao').val().length)});
			$('#tituloPagina').on('input', () => {$('#qtd-tituloPagina').text($('#tituloPagina').val().length)});


		});

	</script>
</body>
</html>